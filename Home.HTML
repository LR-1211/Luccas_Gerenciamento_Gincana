<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sistema de Gincana</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background-color: #f9f9f9;
    }
    h2 {
      color: #333;
    }
    form {
      background-color: #fff;
      padding: 15px;
      margin-bottom: 30px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    label {
      display: block;
      margin-top: 10px;
    }
    input, select, textarea {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
    }
    button {
      margin-top: 15px;
      padding: 10px 20px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }
    th, td {
      border: 1px solid #aaa;
      padding: 8px;
      text-align: left;
    }
    th {
      background-color: #eee;
    }
  </style>
</head>
<body>

  <h2>Cadastro de Equipe</h2>
  <form id="formEquipe">
    <label>Nome da Equipe:</label>
    <input type="text" name="nomeEquipe" required />

    <label>Responsável:</label>
    <input type="text" name="responsavel" required />

    <label>Email:</label>
    <input type="email" name="email" required />

    <label>Integrantes (separados por vírgula):</label>
    <input type="text" name="integrantes" />

    <button type="submit">Cadastrar Equipe</button>
  </form>

  <h2>Cadastro de Prova</h2>
  <form id="formProva">
    <label>Nome da Prova:</label>
    <input type="text" name="nomeProva" required />

    <label>Descrição:</label>
    <textarea name="descricao" rows="3"></textarea>

    <label>Data:</label>
    <input type="date" name="data" />

    <label>Pontuação Máxima:</label>
    <input type="number" name="pontuacaoMaxima" />

    <button type="submit">Cadastrar Prova</button>
  </form>

  <h2>Registro de Pontuação</h2>
  <form id="formPontuacao">
    <label>Equipe:</label>
    <input type="text" name="equipe" required />

    <label>Prova:</label>
    <input type="text" name="prova" required />

    <label>Pontuação Obtida:</label>
    <input type="number" name="pontuacao" required />

    <button type="submit">Registrar Pontuação</button>
  </form>

  <h2>Ranking (Exemplo Estático)</h2>
  <table>
    <thead>
      <tr>
        <th>Posição</th>
        <th>Equipe</th>
        <th>Pontuação Total</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>1º</td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td>2º</td>
        <td></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <script>
    // Arrays para armazenar as informações das equipes, provas e pontuação
    const equipes = [];
    const provas = [];
    const pontuacoes = [];
  
    // Função para cadastrar equipe
    document.getElementById("formEquipe").addEventListener("submit", function(event) {
      event.preventDefault();
      const nomeEquipe = event.target.nomeEquipe.value;
      const responsavel = event.target.responsavel.value;
      const email = event.target.email.value;
      const integrantes = event.target.integrantes.value.split(',');
  
      equipes.push({ nomeEquipe, responsavel, email, integrantes });
      alert('Equipe cadastrada com sucesso!');
      event.target.reset();
    });
  
    // Função para cadastrar prova
    document.getElementById("formProva").addEventListener("submit", function(event) {
      event.preventDefault();
      const nomeProva = event.target.nomeProva.value;
      const descricao = event.target.descricao.value;
      const data = event.target.data.value;
      const pontuacaoMaxima = event.target.pontuacaoMaxima.value;
  
      provas.push({ nomeProva, descricao, data, pontuacaoMaxima });
      alert('Prova cadastrada com sucesso!');
      event.target.reset();
    });
  
    // Função para registrar pontuação
    document.getElementById("formPontuacao").addEventListener("submit", function(event) {
      event.preventDefault();
      const equipe = event.target.equipe.value;
      const prova = event.target.prova.value;
      const pontuacao = event.target.pontuacao.value;
  
      pontuacoes.push({ equipe, prova, pontuacao });
      alert('Pontuação registrada com sucesso!');
      event.target.reset();
      atualizarRanking();
    });
  
    // Função para atualizar o ranking com as pontuações totais
    function atualizarRanking() {
      const ranking = {};
  
      // Soma as pontuações das equipes
      pontuacoes.forEach(pontuacao => {
        if (!ranking[pontuacao.equipe]) {
          ranking[pontuacao.equipe] = 0;
        }
        ranking[pontuacao.equipe] += parseInt(pontuacao.pontuacao);
      });
  
      // Ordena as equipes pela pontuação
      const rankingArray = Object.entries(ranking)
        .map(([equipe, pontuacao]) => ({ equipe, pontuacao }))
        .sort((a, b) => b.pontuacao - a.pontuacao);
  
      // Atualiza a tabela de ranking
      const tbody = document.querySelector("table tbody");
      tbody.innerHTML = '';
  
      rankingArray.forEach((equipe, index) => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${index + 1}º</td>
          <td>${equipe.equipe}</td>
          <td>${equipe.pontuacao}</td>
        `;
        tbody.appendChild(row);
      });
    }
  </script>
  
</body>
</html>
